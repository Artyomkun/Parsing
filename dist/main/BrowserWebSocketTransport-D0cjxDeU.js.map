{"version":3,"file":"BrowserWebSocketTransport-D0cjxDeU.js","sources":["../../node_modules/puppeteer-core/lib/esm/puppeteer/common/BrowserWebSocketTransport.js"],"sourcesContent":["/**\n * @internal\n */\nexport class BrowserWebSocketTransport {\n    static create(url) {\n        return new Promise((resolve, reject) => {\n            const ws = new WebSocket(url);\n            ws.addEventListener('open', () => {\n                return resolve(new BrowserWebSocketTransport(ws));\n            });\n            ws.addEventListener('error', reject);\n        });\n    }\n    #ws;\n    onmessage;\n    onclose;\n    constructor(ws) {\n        this.#ws = ws;\n        this.#ws.addEventListener('message', event => {\n            if (this.onmessage) {\n                this.onmessage.call(null, event.data);\n            }\n        });\n        this.#ws.addEventListener('close', () => {\n            if (this.onclose) {\n                this.onclose.call(null);\n            }\n        });\n        // Silently ignore all errors - we don't know what to do with them.\n        this.#ws.addEventListener('error', () => { });\n    }\n    send(message) {\n        this.#ws.send(message);\n    }\n    close() {\n        this.#ws.close();\n    }\n}\n//# sourceMappingURL=BrowserWebSocketTransport.js.map"],"names":[],"mappings":";;AAGO,MAAM,0BAA0B;AAAA,EACnC,OAAO,OAAO,KAAK;AACf,WAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACpC,YAAM,KAAK,IAAI,UAAU,GAAG;AAC5B,SAAG,iBAAiB,QAAQ,MAAM;AAC9B,eAAO,QAAQ,IAAI,0BAA0B,EAAE,CAAC;AAAA,MACpD,CAAC;AACD,SAAG,iBAAiB,SAAS,MAAM;AAAA,IACvC,CAAC;AAAA,EACL;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,YAAY,IAAI;AACZ,SAAK,MAAM;AACX,SAAK,IAAI,iBAAiB,WAAW,WAAS;AAC1C,UAAI,KAAK,WAAW;AAChB,aAAK,UAAU,KAAK,MAAM,MAAM,IAAI;AAAA,MACxC;AAAA,IACJ,CAAC;AACD,SAAK,IAAI,iBAAiB,SAAS,MAAM;AACrC,UAAI,KAAK,SAAS;AACd,aAAK,QAAQ,KAAK,IAAI;AAAA,MAC1B;AAAA,IACJ,CAAC;AAED,SAAK,IAAI,iBAAiB,SAAS,MAAM;AAAA,IAAE,CAAC;AAAA,EAChD;AAAA,EACA,KAAK,SAAS;AACV,SAAK,IAAI,KAAK,OAAO;AAAA,EACzB;AAAA,EACA,QAAQ;AACJ,SAAK,IAAI,MAAK;AAAA,EAClB;AACJ;;","x_google_ignoreList":[0]}